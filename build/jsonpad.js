!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).JSONPad=e()}(this,(function(){"use strict";function t(t,...e){return Object.fromEntries(Object.entries(t).filter((([t])=>!e.includes(t))))}const e="x-api-token";async function s(t,s,n,a,i){const r=a?new URLSearchParams({...Object.fromEntries(Object.entries(a).map((([t,e])=>[t,e.toString()])))}):"",o=await fetch(`https://api.jsonpad.io${n}?${r}`,{method:s,headers:{[e]:t,"Content-Type":"application/json"},body:void 0});if(!o.ok)throw new Error(await o.text());return await o.json()}return class{constructor(t){this.token=t}async createList(t){return await s(this.token,"POST","/lists",t)}async fetchLists(t){return(await s(this.token,"GET","/lists",t)).data}async fetchList(t){return await s(this.token,"GET",`/lists/${t}`)}async searchList(t,e,n){return await s(this.token,"GET",`/lists/${t}/search`,n)}async fetchListStats(t,e){return await s(this.token,"GET",`/lists/${t}/stats`,e)}async fetchListEvents(t,e){return(await s(this.token,"GET",`/lists/${t}/events`,e)).data}async fetchListEvent(t,e){return await s(this.token,"GET",`/lists/${t}/events/${e}`)}async updateList(t,e){return await s(this.token,"PATCH",`/lists/${t}`,e)}async deleteList(t){await s(this.token,"DELETE",`/lists/${t}`)}async createItem(t,e){return await s(this.token,"POST",`/lists/${t}/items`,e)}async fetchItems(t,e){return(await s(this.token,"GET",`/lists/${t}/items`,e)).data}async fetchItemsData(e,n){const a=n.pointer?`/${n.pointer}`:"";return(await s(this.token,"GET",`/lists/${e}/items/data${a}`,t(n,"pointer"))).data}async fetchItem(t,e,n){return await s(this.token,"GET",`/lists/${t}/items/${e}`,n)}async fetchItemData(e,n,a){const i=a.pointer?`/${a.pointer}`:"";return await s(this.token,"GET",`/lists/${e}/items/${n}/data${i}`,t(a,"pointer"))}async fetchItemStats(t,e,n){return await s(this.token,"GET",`/lists/${t}/items/${e}/stats`,n)}async fetchItemEvents(t,e,n){return(await s(this.token,"GET",`/lists/${t}/items/${e}/events`,n)).data}async fetchItemEvent(t,e,n){return await s(this.token,"GET",`/lists/${t}/items/${e}/events/${n}`)}async updateItem(t,e,n){return await s(this.token,"PUT",`/lists/${t}/items/${e}`,n)}async updateItemData(t,e,n,a){const i=a.pointer?`/${a.pointer}`:"";return await s(this.token,"POST",`/lists/${t}/items/${e}/data${i}`,n)}async replaceItemData(t,e,n,a){const i=a.pointer?`/${a.pointer}`:"";return await s(this.token,"PUT",`/lists/${t}/items/${e}/data${i}`,n)}async patchItemData(t,e,n,a){const i=a.pointer?`/${a.pointer}`:"";return await s(this.token,"PATCH",`/lists/${t}/items/${e}/data${i}`,n)}async deleteItem(t,e){await s(this.token,"DELETE",`/lists/${t}/items/${e}`)}async deleteItemData(t,e,n){const a=n.pointer?`/${n.pointer}`:"";return await s(this.token,"DELETE",`/lists/${t}/items/${e}/data${a}`)}async createIndex(t,e){return await s(this.token,"POST",`/lists/${t}/indexes`,e)}async fetchIndexes(t,e){return(await s(this.token,"GET",`/lists/${t}/indexes`,e)).data}async fetchIndex(t,e){return await s(this.token,"GET",`/lists/${t}/indexes/${e}`)}async fetchIndexStats(t,e,n){return await s(this.token,"GET",`/lists/${t}/indexes/${e}/stats`,n)}async fetchIndexEvents(t,e,n){return(await s(this.token,"GET",`/lists/${t}/indexes/${e}/events`,n)).data}async fetchIndexEvent(t,e,n){return await s(this.token,"GET",`/lists/${t}/indexes/${e}/events/${n}`)}async updateIndex(t,e,n){return await s(this.token,"PATCH",`/lists/${t}/indexes/${e}`,n)}async deleteIndex(t,e){await s(this.token,"DELETE",`/lists/${t}/indexes/${e}`)}}}));
